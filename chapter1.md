<details><summary>はじめに</summary>
ソースコードの履歴を管理するツールとして誕生したGitは、今や習得が欠かせないほど普及し、多くの開発者に親しまれています。Gitを使うと、複数人で安心して同じファイルを更新したり、変更の履歴をわかりやすく保ったりすることができます。また、Gitを活用したWebサービスであるGitHubの登場により、インターネット上での共同開発が活発になりました。

近年では、執筆作業やドキュメントの管理など、プログラミング以外にも多くの用途でGitとGitHubが利用されています。

本書は大きく分けて二部構成となっています。前半では、手元のパソコンでファイルを実際にバージョン管理しながら、Gitの基本的な使い方を解説しています。後半は、実践的なワークフローに沿ってGitHubを使い、チームメンバーと一緒に開発を進めるための知識を身につけられる内容としています。

全体を通し、コマンドラインを使った操作が中心であることは大きな特徴です。難しそうに思えるかもしれませんが、未経験者でも理解できるように配慮しているので、心配することはありません。概念や操作方法を丁寧に解説し、「なぜそうするのか」といった説明も多く入れました。また、改訂にあたり、新しいGitコマンドやGitHubの機能にも対応したのに加え、知っておくと実務で役に立つ新しい慣習も紹介しています。</details>


# Chapter1 Gitの基本を学ぼう
Gitの使い方の前に、まずこのChapterで「Gitの基本の考え方」から説明していきます。

これらを理解せずに操作だけ覚えても応用が利きません。Chapter 2以降でGitを操作するための準備として挑みましょう。

<details><summary>Lesson 01 [バージョン管理]バージョン管理とその目的を理解しましょう</summary>

まずは、Gitの役割を説明します。具体的な使い方や捜査を知る前に、「なぜGitを使うのか」について把握しておくことはとても重要です。
このLessonの内容をしっかりおさえ、最後まで目的を見失わずに学習を進めていきましょう。
- Gitを学ぶ上で欠かせない、バージョンという概念
    
    アップデートするにつれて変化するファイルの状態のことを「バージョン」といいます。議事録を例にとると、下書きした状態、清書した状態、加筆修正した状態などが考えられます。
    
    また、作業を重ねる中で、「編集前の内容をあとから参照したい」「間違った変更をしても元に戻せるようにしておきたい」といった理由から、ファイルをコピーしてバックアップを取った経験はないでしょうか。そのように、同じファイルの複数バージョンを保持することを「バージョン管理」と呼びます。
    
    - ファイルの状態のことをバージョンと呼ぶ
        - 同じファイルの複数バージョンを保持すること＝バージョン管理
- Gitはバージョン管理を行う
    
    Gitは、ファイルのバージョン管理を行うために、多くのプロジェクトで使われているツールです。次々と発生するファイルの変更をバージョンとして記録し、記録した地点へいつでも戻れる仕組みを提供することが大きな特徴です。なお、そうしたツールはGit以外にも存在しており、「バージョン管理システム」と総称されます。
    
    - バージョン管理システムにより、変更を記録した地点同士を行き来できる
        - 記録したバージョンはいつでも引き出せる
- なぜバージョン管理システムが必要なのか知ろう
    
    原始的なバージョン管理として、「ファイルをコピーしてバックアップを取り続ける」という方法があります。この方法では大抵、ファイル名を工夫することでバージョンを表します。特別なツールを必要としない手軽さから、よく使われる手法の1つです。しかし、毎回コピーするのに手間がかかりますし、ファイル名の一貫性が失われた途端に何が起こったかわかりづらくなってしまうのが欠点です。特に、複数人で同じファイルを使って作業をする場合、他の人による変更を把握するのは難しく、うっかり上書きや削除をしてしまう可能性もあります。
    
    一方、バージョン管理システムを用いると、一貫したルールに基づいた管理ができるようになります。特に、Gitをはじめ昨今主流となっているバージョン管理システムには、作業者が複数人いても、ファイルの最新状態や変更の履歴をわかりやすく保てる仕組みがあります。
    
    - ツールを使わない管理では、変更の履歴がわかりづらい
        - ツールを使わない管理はあとで面倒になります。
### 用語
- **バージョン**：アップデートするにつれて変化するファイルの状態のこと。
- **バージョン管理**：同じファイルの複数バージョンを保持すること。
- **Git**：ファイルのバージョン管理を行うためのツールで、多くのプロジェクトで使われている。</details>


<details><summary>Lesson 02 [Gitの広がり]Gitの特徴を知りましょう</summary>

Gitがどのようにして広がり、どんなことに使われているのかを見てみましょう。バージョン管理システムの用途の広さ、Gitならではの普及のきっかけに触れ、多くの人に使われるツールであることを知ってくださいね。
- はじまりはオープンソースソフトウェアの管理
    
    Linuxカーネルのソースコード管理システムとして、2005年に誕生したのがGitでした。開発したのはLinuxの開発者でもあるLinus Torvaldsで、Linuxカーネルの開発の手を止め、10日ほどでGitの基礎を作り上げました。大規模プロジェクトを高速に、そして複数人で並行して扱えるような仕組みを持っていることが大きな特徴です。
    
    ソースコードを含むプロジェクトの管理に用いることが多いですが、それ以外にも用途は多岐にわたっています。Wikiやブログなど、日本語で書くようなテキストも管理できますし、昨今では、ドイツが法令をGitで管理している事例もあります( https://github.com/bundestag/gesetze )。
    
    - Gitのさまざまな用途
        - プログラムのソースコード
        - WikiやブログなどのWebコンテンツ
        - 法令
        - 書籍の執筆
        
        Git自体もオープンソースソフトウェアです。「GNU General Public License」というライセンス形態を採用しており、ソフトウェアの利用や改変、再頒布などを許可しています。誰でも無償で使えることは、大きな広がりを見せている要因の1つでしょう。
        
- GitとGitHubの深い関係
    
    Gitが広まったきっかけの1つとして、GitHub(ギットハブ、https://github.com )の存在は無視できません。GitHubは、Gitの仕組みを利用して、インターネット上でのスムーズな共同作業を可能にしたWebサービスです。他のユーザーと簡単にコミュニケーションが取れる仕組みやプロジェクト管理に使える機能などもあり、いつでもどこでも効率よく開発が行えるメリットから、現在では広く普及しています。こうしたGitHubの勢いによる助けもあって、Gitは他のバージョン管理システムにはない広範囲な普及を成し遂げています。
    
    GitHubを運営しているGitHub本社はアメリカにあり、ページのほとんどが英語表記です。しかし、2015年に日本支社が設立され、昨今では日本での普及にもよりいっそう力が入っているようです。ちなみに、2018年に、GitHubはMicrosoftに買収されています。
    
    - GitHubの日本語紹介サイト
        - https://github.co.jp
    
    このChapterの残りのLessonでは、Gitを支える概念を解説します。ここでGitの全体像を掴んでおくことで、実際に操作をする際の理解の助けになり、応用しやすくなるはずです！
### 用語
- **オープンソースソフトウェア（Open Source Software）**：頭文字を取ってOSSと略されます。作成者がソースコードを無償で公開していて、利用や改変、再配布が自由に許可されているソフトウェアのことです。
    
    代表的なOSSには、オペレーティングシステムであるLinux、データベース管理システムのMySQL、プログラミング言語のJava、Perl、PHP、Python、WebブラウザのFirefoxなどがあり、さまざまな分野に広く用いられています。因みにGitもオープンソースソフトウェア。
    
    OSSは無償ながら、高性能かつ信頼性が高いものが多く知られており、企業が商用利用としてOSSを基に開発することも多くあります。特に、プログラミング言語や開発環境の分野には優秀なソフトウェアが多いため、OSSは開発者にとってなくてはならない存在といえます。
    
    OSSとは反対に、ソースコードへのアクセスや改変が制限されているソフトウェアを「プロプライエタリソフトウェア」といいます。一般的にソフトウェアのソースコードは知的財産となるため、ライセンス料を徴収して販売されています。多くの商用ソフトウェアは、プロプライエタリソフトウェアのため、ソースコードの改変はできません。
    
- **GitHub**：Gitの仕組みを利用して、インターネット上でのスムーズな共同作業を可能にしたWebサービス。</details>


<details><summary>Lesson 03 [コミットの概要]変更を記録するコミットについて知りましょう</summary>

Gitの特徴や役割を知る上で、バージョンの管理がポイントであることが理解できたでしょうか。このLessonでは、Gitでバージョンを扱う際の考え方と、まさにバージョンそのものを指す「コミット」という概念について説明します。
- ファイルの状態を記録に(コミット)していく
    
    Gitでは変更の履歴として、管理対象となっている全ファイルのその時点の状態を保存していきます。ユーザーが任意のタイミングで記録を保存する操作を「コミット」するといい、その記録自体のことも「コミット」と呼びます。コミットを連続して保存していくことでファイルの変更履歴がわかるようになるのが、Gitの基本的な仕組みなのです。
    
    また、ファイルの状態に加え、操作を行なったユーザーや時刻の情報も記録されます。それにより、「いつ」「誰が」「どんな変更を」したか後々誰が見てもわかるようになっています。そして、Gitで管理しているファイルは、いつでも過去のコミット時の状態へ戻したり、コミット間を行き来したりすることができます。
    
    - その瞬間の状態を繰り返し記録することで変更を管理する
        - コミット単位で行き来できる
- コミットの単位やタイミングは自由に決定できる
    
    コミットは自動的に行われません。ユーザーが適切なタイミングで明示的に実行する必要があります。いつ、どのような単位(区切り)でコミットするべきかは、扱うファイルの種類や、変更履歴を見直す頻度などを目安に判断します。
    
    たとえば、議事録や日記であれば、あとから何度も変更することはないので、コミットを工夫する必要はほとんどないかもしれません。一方、プログラムのソースコードとなると状況は変わります。あるプログラムに機能を追加していく時、「機能Aを追加したコミット」と「機能Bを追加したコミット」を分けておけば、履歴の行き来により「機能Aだけの状態」「機能Bだけの状態」などにあとから切り替えることも容易になります。また、コミットがきれいに分割されていることにより、他の人が履歴を追いやすくなります。
    
    - コミットの工夫で、履歴が追いやすくなる
        - プログラムに対する「機能の追加や変更」を単位としてコミットしていく例
            - 最初のバージョンを開発→コミット(記録)
                
                ↓
                
            - 機能Aを追加→コミット(記録)
                
                ↓
                
            - 機能Bを追加→コミット(記録)
                
                ↓
                
            - 機能Aの一部を変更した→(記録)
        
        最初はコミットの単位をうまく決められないかもしれません。慣れてくると、意味を持ったまとまりや、便利に扱いやすい単位でコミットすることを意識できるようになります。
        
- ワンポイント：コミットを指定するためのコミットハッシュ
    
    過去のコミットを行き来してファイルの状態を自在に切り替えられることがGitの特徴の1つですが、そのためには「どの」コミットの時点に戻りたいかを指定する必要があります。そこでGitで内部的に使われているのが、「コミットハッシュ」や「ハッシュ値」と呼ばれる文字列です。
    
    これは、コミットするときにSHA-1ハッシュ関数と呼ばれる計算式により割り出されるものです。1つひとつのコミットが全て異なる値を持つので、ハッシュ値を指定すればそこからコミットを特定できるというわけです。
    
    - コミットハッシュの例
        
        e3d43c66deb54e58237d718a04d688975bf1d4c2

### 用語
- **コミット：**①ユーザーが任意のタイミングで記録を保持する操作を「コミット」するといい、②その記録自体のことも「コミット」と呼びます。
- **コミットハッシュ**、**ハッシュ値**：コミットを特定するための文字列のこと。※文字列はゾロ目で揃えて綺麗にするのがマナーらしい。</details>


<details><summary>Lesson 04 [リポジトリの概要]リポジトリの役割を理解しましょう</summary>

このLessonではリポジトリの役割と種類について説明します。Gitの仕組みや使い方を学習する上で、リポジトリの理解は欠かせません。イラスト付きで解説していきますので、イメージを整理しながら読み進めてください。
- リポジトリはコミットの保管庫
    
    前のLessonで紹介したコミットをためていく場所を「リポジトリ」と呼びます。
    
    リポジトリを用意する方法には2つあります。まず、すでにGitで管理されているプロジェクトの開発に参加する場合は、リポジトリをコピー(Gitの用語では「クローン」)して使います。一方、新規でプロジェクトを立ち上げるような際は、リポジトリも新しく作成する必要があります。
    
    - リポジトリの作成方法
        
        リポジトリの作り方には、
        
        **①新たに作成する方法**
        
        **②既存のものをクローンする方法**
        
        があります。
        
- ローカルリポジトリとリモートリポジトリの違いをおさえよう
    
    リポジトリはローカルリポジトリとリモートリポジトリに分類できます。
    
    ローカルリポジトリは、手元で使っているパソコン内に作成する自分専用のリポジトリです。基本的に誰かと共同で使うことはありません。
    
    それに対してリモートリポジトリとは、インターネットなどのネットワーク上に存在するリポジトリのことです。複数人で共有するものとして、サーバー上に配備するのが一般的です。サーバーは自ら用意することも可能ですし、GitHubのようなホスティングサービスを用いることもあります。
    
    - ローカルリポジトリとリモートリポジトリ
        
        
        | ローカルリポジトリ | リモートリポジトリ |
        | --- | --- |
        | 手元のパソコン内 | ネットワーク上のサーバー内 |
        | 自分専用のローカルリポジトリ | 共同で使うリモートリポジトリ |
- 2種類のリポジトリを利用した共同作業の流れ
    
    多くの場合、1つのプロジェクトに、ローカルリポジトリとリモートリポジトリがそれぞれ1つ以上存在します。共同作業をする際は、複数人がそれぞれのローカルリポジトリで作業を行い、リモートリポジトリに反映させます。そして、別の作業者がそれをまた自分のローカルリポジトリに取得して作業を続けます。この繰り返しで進めていくのが一般的な共同作業の流れです。
    
    - ローカルリポジトリとリモートリポジトリを用いた作業の流れ
        
        ローカルリポジトリからリモートリポジトリに反映したコミットを、また別のローカルリポジトリへと反映することで共同作業を進めていく。
### 用語
- **リポジトリ**：コミット(記録)を貯めていく場所のこと。
    - **ローカルリポジトリ**：手元で使っているパソコン内に作成する自分専用のリポジトリ。基本的に誰かと共同で使うことはない。
    - **リモートリポジトリ**：インターネット上に存在するリポジトリのこと。複数人で共有するものとして、サーバー上に配備するのが一般的。
- **ホスティングサービス**：通信事業者が用意したサーバーをインターネットを介してレンタルするサービスのこと。</details>


<details><summary>Lesson 05 [ローカルリポジトリの操作] ローカルリポジトリに対する操作のイメージをつかみましょう</summary>

リポジトリについて、もう少し深く掘り下げます。これがわかると、このあとのLessonで行うGit操作の意味が格段に理解しやすくなります。しかし、もし難しいと感じた場合は、先にChapter2以降を読み進め、あとから戻ってくるという読み方をしてもかまいません。
- ローカルリポジトリにコミットを作成する
    
    コミットは、自分のパソコンで操作を行い、ローカルリポジトリ内に作成することがほとんどです。普段みなさんが行っている手順と同様にファイルを編集し、編集したものからコミットしたいものを選んでコミットする、というのが基本的な流れです。
    
    なお、Gitの管理対象はフォルダー単位で指定します。あるフォルダーをGitで管理すると決めたら、原則として、その中に含まれるすべてのファイルが(フォルダー内にさらにフォルダーがある場合はその中身も)管理対象となり、コミットを実行することによりリポジトリへ記録されます。
    
    - ローカルリポジトリではファイルを選んでコミットしていく
        
        Gitの管理対象としたフォルダーの中には.gitという隠しフォルダーが作られます。ここがローカルリポジトリの存在する場所です。ファイルの編集からコミットまで、1つのフォルダー内で完結することが分かりますね。
        
- 3つの場所をおさえよう
    
    先ほど紹介した基本的な流れを、Git用語を確認しながら詳しく見てみましょう。ローカルリポジトリにコミットを行いファイルの状態を保存するには、「ワークツリー」「ステージングエリア」「Gitディレクトリ」と呼ばれる3つの場所を用います。これらを使い分けることで、編集開始からコミット完了までの間、ファイルの状態を管理することができます。下の図は、「Gitで管理しているファイルを編集したあと、コミットを行う」シーンを例として、3つの場所の位置関係や使い方を表したものです。それぞれ、このあとのLessonで詳しく解説していくので、今は大まかな流れと関係を捉えておいてください。
    
    - 3つの場所を使ったコミットまでの流れ
        
        ワークツリー：編集を行う
        
        ↓
        
        ステージングエリア：コミットしたいファイルを登録
        
        ↓
        
        Gitディレクトリ：コミットする
        
- ワークツリーは変更するファイルを保持する場所
    
    Gitが保持している複数のコミットのうち、編集の開始地点となるのが「ワークツリー」です。「ワーキングツリー」「作業ディレクトリ」とも呼ばれます。ワークツリーにあるファイルは、最後にコミットした状態から手が加わっていない「unmodified(変更されていない)」な状態にあります。そこから何らかの編集をすると、ファイルは「modified(変更済み)」となります。
    
    尚、新規ファイルを作成した場合、そのファイルの状態はmodifiedではなく「untracked(追跡されていない)」です。また一度もコミットされたことのないファイルなので、Gitの管理下に置かれていないという意味でこの状態になります。
    
    - Git管理下のファイルに変更を加えると「modified」となる
        
        
        | Gitの管理外 | Gitの管理下 | Gitの管理下 |
        | --- | --- | --- |
        | 新規追加されたファイル |  | ファイルを編集 |
        | untracked(追跡されていない) | unmodified(変更されていない) | modified(変更済み) |
    
    ※「untracked」などの用語は、ファイルの状態を表しています。
    
- ステージングエリアはコミットするファイルを登録する場所
    
    ワークツリーでファイル編集を行った後、コミットしたい内容を一度ステージングエリアに登録します。modifiedなファイルの状態が「staged(ステージングエリアに追加済み)」へと変わります。また、untrackedなファイルをGitの管理下におきたいときも、ステージングエリアへの追加を行います。untrackedの直後に取りうる状態はstagedというわけですね。ステージングエリアという呼称が一般的ですが、「インデックス」と呼ぶこともあります。
    
    - ステージングエリアに追加後は「staged」となる
        
        
        | ワークツリー | ワークツリー | ステージングエリア |
        | --- | --- | --- |
        | untracked(追跡されていない) | modified(変更済み) | staged(追加済み) |
    
    ※ステージングエリアへの追加は手間だと思えるかもしれません。しかし、編集済みの箇所から追加したい部分だけを抜き出せるので、コミットの単位を操作しやすくなります。
    
- Gitディレクトリはコミットを格納する場所
    
    コミットを行うと、ステージングエリアに追加したファイルが、それ以降変更の入らないデータとしてGitディレクトリへ格納されます。原則として、一度コミットにより記録された内容は変更・削除されないものと思ってください。例えば仮に後からコミットを取り消す操作を行なっても、取り消す前後の状態がいずれも記録として残るので、コミット自体がなかったことにはなりません。
    
    コミットにより、ファイルの状態は再びunmodifiedとなります。作業が進行したにも関わらず状態が元に戻るようで違和感があるかもしれませんが、先程のワークツリーの説明を思い出してみてください。ポイントは、「最後にコミットした状態」から手が加わっていないのがunmodifiedであるということです。コミットした直後はまさにその状態であり、そこからまた編集やステージングエリアへの追加を行うことで、コミットから次のコミットまでのサイクルを回すことができるのです。
    
    - コミットすると「unmodified」の状態に戻る
        
        コミットされたファイルの状態はunmodified(最後のコミットから変更されていない)になる。
        
    
    ※管理対象のファイルが取りうる4つの状態とその行き来について理解できたでしょうか？Gitのコマンドを使っていて今何をしているのか分からなくなったら、ここで学んだイメージを時々見返してみることをお勧めします
### 用語
- **ワークツリー**：Gitが保持している複数のコミットのうち、編集の開始地点となる場所。「ワーキングツリー」「作業ディレクトリ」とも呼ばれる。
    - ワークツリーにあるファイルは、最後にコミットした状態から手が加わっていない「unmodified(変更されていない)」な状態にある。そこから何らかの編集をすると、ファイルは「modified(変更済み)」となる。
    - 新規ファイルを作成した場合、そのファイルの状態は「untracked(追跡されていない)」です。一度もコミットされたことのないファイルなので、Gitの管理下に置かれていないという意味でこの状態になります。
- **modified**：「最後にコミットした状態」から変更済みのファイルを表す。
- **unmodified**：「最後にコミットした状態」から変更されていないファイルを表す。
- **untracked**：追跡されていないファイルを表す。まだ一度もコミットされておらず、Gitの管理下にない。
- **ワークツリー**：編集の開始地点となる場所。変更するファイルを保持する場所。「ワーキングツリー」「作業ディレクトリ」とも呼ばれる。
- **ステージングエリア**：コミットするファイルを登録する場所。
- **Gitディレクトリ**：コミット(記録)を格納する場所。</details>


<details><summary>Lesson 06 [リモートリポジトリの操作] リモートリポジトリに対する操作のイメージを掴みましょう</summary>

リモートリポジトリは、ローカルリポジトリの内容を複数人で共有したり、バックアップしたりするために使います。覚えるべき操作はシンプルですが、共同作業ならではの難しさもあります。ここではその一部を紹介し、実践に入る前の最後の準備とします。
- リモートリポジトリを介し、コミットを共有し合う
    
    ローカルリポジトリにコミットした内容は、任意のタイミングでリモートリポジトリに反映させることが可能です。modified、stagedなどの状態にある、コミット前の内容は反映されません。
    
    リモートリポジトリ上のコミットも、いつでも自分のローカルリポジトリに取得可能です。チームで共同作業をしている場合は、他の人による変更を取り込むことができます。
    
- Gitには共同作業を進めやすくする機能が用意されている
    
    共同作業を可能にしてくれるリモートリポジトリはGitの重要な機能ですが、さまざまなリポジトリから変更を受け付けることで起こりうる問題もあります。イメージを掴むために、コンサートチケット予約のシステムの開発を例に考えてみましょう。新しい機能のリリーススケジュールがあり、機能ごとに担当チームが結成されているとします。もちろん、全てのソースコードはGitで管理されていると考えてください。六月中のある日、週目のリリースに向けた開発が先に終了しました。それに合わせ、追加した機能分の変更を、リモートリポジトリに反映させるとどうなるでしょうか。リリーススケジュールに反して、2周目用の変更が先に追加されてしまします。そんなとき便利なのが「ブランチ」という機能です。ブランチを活用することで、同じリポジトリで複数作業を平行して進め、任意の時点で反映できるようになります。ブランチについてはChapter 5から解説していきます。
    
- 変更の衝突が起きたら検知してくれる機能もある
    
    複数のチームが平行で進めていると、同じソースコードファイルの同じ箇所にそれぞれ違うコードを追加することもあります。それでは、互いの変更を取り込む際に、せっかく修正した箇所が相手チームの変更により上書きされてしまうような気がしませんか？
    
    しかしGitは、こうした変更の衝突を検知し、開発者に気付かせる「コンクリフト(競合)」と呼ばれる仕組みを持っています。共同作業ならではのトラブルのイメージが少しでも湧いたでしょうか？コンクリフトについてはChapter 7で解説します。
    
- ワンポイント Gitは1人でも便利に使うことができる
    
    Gitは複数人での作業に適していますし、本書の後半でもチーム開発に重点を置いた解説をしていきます。一方で、個人的な作業であってもGitは有効です。サービスやライブラリなどの開発用リポジトリとしてはもちろんのこと、新しい技術を学習する際のチュートリアルの実施記録を取ったり、ブログを書いたり、どんな使い方も可能です。どんどん使ってみましょう。
### 用語
- **ブランチ**：Gitで記録する履歴を枝分かれさせるための機能。
- **コンクリフト**：マージやリベース、プルなど、ブランチを統合する際に発生しうるもの。</details>
